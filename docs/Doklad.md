# Робота з датами. Бібліотека moment.js

moment.js - бібліотека, яка надає нам більше опцій для праці з часом. Такі як: більш зручний та вдосконаленний дисплей, додавання або віднімання, парсинг дат та ін. Мета цієї лекції - росказати про базові та необхідні функції для затосування цієї бібліотеки.

## Найголовні риси бібліотеки

### 1. Парсинг дат. 

Бібліотека дозволяє вам парсити дати у стрінг, обжект та у массиві. Також дозволяе клонувати момент часу, або вивести дату в UTC форматі. Також є цілий метод для затвердження дат та перевірку їх коректності.

### 2. Маніпуляція датами

Додавання, віднімання, початок та кінець відліку, отримати момент у певній часовій зоні та ін. Також існує безліч методів для отримання більш детальної інформації про дату.

### 3. Задавання дат

Присутне більше кастомізації при задаванні дат. Можна окремо редактувати годину, хвилину, секунду, мілісекунду, місяць, день тижня та інші індивідуальні аспекти.

### 4. Кастомізація

При задаванні свого локального часу - ви вільні змінювати усе, починаючи від назви місяців закінчуючи календарною структурою. Також присутня повна підтримка безлічі плагінів для кращого особистого використання. 

## Установка бібліотеки

### Для NodeJS

* Установка буде проходити через npm, завдяки команді `npm install moment`. Переконайтеся що у вас вже установленні NodeJS та NPM. Скачати їх можна за [посиланням](https://nodejs.org/uk/download/). 

![Процесс установки](/src/screen2.jpg)

* Для перевірки працездатності - створюємо файл test.js, та вводимо в нього наступний код:

```js
var moment = require('moment');
var a = moment().toString();
console.log(a);
```
![Приклад](/src/screen1.jpg)

* Зберігаємо файл. Відкриваємо консоль та пишемо: `node C\...` та шлях до файлу test.js. При виконанні файла ми маємо отримати нинішню актуальну дату та час.

![Результат](/src/screen3.jpg)

## Найголовніші методи бібліотеки

### Форматування дат:

```js
  moment().format('MMMM Do YYYY, h:mm:ss a'); // квітень 27-го 2021, 11:00:16 вечора
  moment().format('dddd');                     // вівторок
  moment().format("MMM Do YY");                // квіт 27-го 21
  moment().format('YYYY [escaped] YYYY');      // 2021 escaped 2021
  moment().format();                           // 2021-04-27t23:00:16+03:00
```

### Відносний час:
```js
moment("20111031", "YYYYMMDD").fromNow(); // 9 років тому
moment("20120620", "YYYYMMDD").fromNow(); // 9 років тому
moment().startOf('day').fromNow();        // 9 годин тому
moment().endOf('day').fromNow();          // за 15 годин
moment().startOf('hour').fromNow();       // годину тому
```
### Маніпуляція датами:
```js
moment().subtract(10, 'days').calendar(); // 18.04.2021
moment().subtract(6, 'days').calendar();  // Минулого четверга о 08:57
moment().subtract(3, 'days').calendar();  // Минулої неділі о 08:57
moment().subtract(1, 'days').calendar();  // Вчора о 08:57
moment().calendar();                      // Сьогодні о 08:57
moment().add(1, 'days').calendar();       // Завтра о 08:57
moment().add(3, 'days').calendar();       // У суботу о 08:57
moment().add(10, 'days').calendar();      // 08.05.2021
```


## Найпростіші приклади використання:

### Зміна об'єктів
Об'єкт moment піддається змінам, що означає що такі дії як додавання, віднімання та іннш. змінюють оригінал. Тому рекомендовано клонувати об'єкт для уникнення зміни оригіналу. 
```js
var a = moment('2021-01-01');    //приклад зміни оригінального об'єкту
var b = a.add(1, 'week'); 
a.format();
"2021-01-08T00:00:00-06:00"

var a = moment('2021-01-01'); 
var b = a.clone().add(1, 'week');  //приклад клонування об'єкту та збереження оригіналу.
a.format();
"2021-01-01T00:00:00-06:00"
```

### Нюанси з додавання дат і часу
Є принципіальна різниця між діями з **датою** та _часом_. При додаванні певної одиниці _часу_, ми додаємо до дати сталу величину. Але, при відніманні дат, біліотека базує результат на календарі, бо не у кожному році 365 днів, так само як не у кожному місяці 30 днів.

```js
moment('2016-01-01').add(1, 'year').format('LL') //додавання одного року як дату
"January 1, 2017"

moment('2016-01-01').add(365, 'day').format('LL') //додавання року як часу
"December 31, 2016"
```
### Нативні Дати JavaScript
Moment.js не тільки додає нові методи для роботи з об'єктами дати, але й перевтілює нативний об'єкт дати JavaScript через те, що робота з ним може бути трохи непербачуванною, особливо в плані парсингу. Наприклад, може відбутися проблема роботи у Сполучених Штатах Америки через те, що у вас на комп'ютері формат дати ДД/ММ/РР. Завдяки переробці нативного об'єкту дати, такі проблеми вам не докучатимуть. 


## Лекція створена Щоткіним Максимом з ІВ-91

## Контакти:

Телеграм - @SmakLagidze

Телефон - +(380) 98 30 15 126

Поштова скринька - maksym.shchotkin@gmail.com








